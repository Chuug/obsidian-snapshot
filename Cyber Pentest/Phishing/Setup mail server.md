### SMTP Server

#### Install Postfix
```bash
sudo apt-get update 
sudo apt-get install postfix
```

#### Config Postfix
###### Config file location
```bash
sudo nano /etc/postfix/main.cf
```

###### Setup these lines
```makefile
myhostname = domain.com 
mydomain = domain.com 
myorigin = $mydomain 
inet_interfaces = all
```

###### Restart postfix
```bash
sudo systemctl restart postfix
```

###### Test SMTP server
```bash
telnet localhost 25
```

### Mail sender in python
```python
import smtplib
from email.mime.multipart import MIMEMultipart
from email.mime.text import MIMEText

# SMTP Parameters
smtp_server = 'localhost'
smtp_port = 25

# Variables
sender_email = 'sender@example.com'
sender_name = 'sender name' 
recipient_email = 'recipient@example.com'

# Read the email template
with open('template.html', 'r') as file:
    html_content = file.read()

# Cr√©ation du message
message = MIMEMultipart('alternative')
message['Subject'] = 'Email subject'
message['From'] = f'{sender_name} <{sender_email}>'
message['To'] = recipient_email

# Add the html to email
part = MIMEText(html_content, 'html')
message.attach(part)

# SMTP connexion and send
with smtplib.SMTP(smtp_server, smtp_port) as server:
    server.sendmail(sender_email, recipient_email, message.as_string())

print("Send email success")
```

#### By Brevo

![[Screenshot_2024-04-03_09-33-33.png]]

![[Screenshot_2024-04-03_09-34-58.png]]

